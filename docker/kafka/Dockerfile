FROM bitnami/kafka:latest

ENV KAFKA_CFG_NODE_ID=0
ENV KAFKA_CFG_PROCESS_ROLES=controller,broker
ENV KAFKA_CFG_LISTENERS=CONTROLLER://:9092,BROKER://0.0.0.0:29092
ENV KAFKA_CFG_ADVERTISED_LISTENERS=BROKER://kafka:29092
ENV KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT
ENV KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka:9092
ENV KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER
ENV KAFKA_INTER_BROKER_LISTENER_NAME=BROKER

#ENV KAFKA_CFG_NODE_ID=0
#ENV KAFKA_CFG_PROCESS_ROLES=controller,broker
#ENV KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093
#ENV KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT
#ENV KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka:9093
#ENV KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER

EXPOSE 9092
EXPOSE 9093

#ADD entrypoint.sh .

#CMD /bin/bash entrypoint.sh
